extends ../../layouts/default.pug
include ../../mixins/alert.pug

block main
    +alert-success(5000)
    +alert-error(5000)

    .container.my-3
        .row.block-profile
            .col-3
                .block-menu
                    .title-account TRANG TÀI KHOẢN
                    p Xin chào, 
                        span(class="name-user") #{user.fullName} !
                    ul 
                        li(class="title-info")
                            a(href="/user/account") Thông tin tài khoản
                        li(class="title-info")
                            a(href=`/user/edit/${user.id}`) Cập nhật tài khoản
                        li(class="title-info")
                            a(href=`/user/order/${user.id}`) Đơn hàng của bạn
                        li(class="title-info")
                            a(href=`/user/info/${user.id}`) Sổ địa chỉ
                        li(class="title-info")
                            a(href="/user/password/change") Đổi mật khẩu

            .col-9
                .row.justify-content-center
                    .col-8.form-fill
                        .block-info.mb-4
                            .title-account(style="text-align: center") CẬP NHẬT TÀI KHOẢN
                            form(
                                action=`/user/edit/${data.id}?_method=PATCH`
                                method="POST"
                                enctype="multipart/form-data"
                            )
                                div(class="form-group")
                                    label(for="fullName") Họ tên
                                        span(class="required") *
                                    input(
                                        type="text"
                                        class="form-control"
                                        id="fullName"
                                        name="fullName"
                                        required
                                        value=data.fullName
                                    ) 
                                div(class="form-group")
                                    label(for="email") Email
                                        span(class="required") *
                                    input(
                                        type="email"
                                        class="form-control"
                                        id="email"
                                        name="email"
                                        required
                                        value=data.email
                                    )
                                div(
                                    class="form-group"
                                    upload-image
                                )
                                    label(for="avatar") Avatar
                                        span(class="required") *
                                    input(
                                        type="file"
                                        class="form-control-file"
                                        id="avatar"
                                        name="avatar"
                                        accept="image/*"
                                        upload-image-input
                                        style="margin: 10px 0;"
                                    )
                                    div(class="img-account")
                                        img(
                                            src=data.avatar
                                            class="image-preview"
                                            upload-image-preview
                                        )
                                div(
                                    class="form-group"
                                    style="display: flex; justify-content: center; margin-top:0px"
                                )
                                    button(
                                        type="submit"
                                        class="btn btn-primary"
                                        style="padding: 8px 70px"
                                    ) Cập nhật
        
